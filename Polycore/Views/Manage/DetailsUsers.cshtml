@model Polycore.Models.UserRoleViewModel
@{
    ViewBag.Title = "User details";
}

<script src="~/Scripts/jquery.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js" type="text/javascript"></script>

<h2>User details.</h2>

<p>
    @Html.ActionLink("Add role to ", "AddRoleToUser", new { id = Model.UserId }) @Model.UserName
</p>

<table class="tableRoles">
    <tr>
        <th>Role name</th>
        <th></th>
    </tr>
    
    @foreach(var item in Model.RoleList)
    {
        <tr>
            <td>@item</td>
            <td>
                @Ajax.ActionLink("Verwijderen", "DeleteRoleFromUser", new { id = Model.UserId, name = item }, new AjaxOptions
                {
                    Confirm = "Are you sure role: " + item + " must be deleted from user: " + Model.UserName + "?",
                    HttpMethod = "Post",
                    OnSuccess = "window.location.reload()"
                })
            </td>

        </tr>
    }
</table>
<br />
<p>
    @Html.ActionLink("Back", "IndexUsers")
</p>
