@model IEnumerable<Polycore.Models.ApplicationUser>
@{
    ViewBag.Title = "Users index";
}

<script src="~/Scripts/jquery.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js" type="text/javascript"></script>

<h2>Users index.</h2>

<table class="tableUsers">
    <tr>
        <th>Username</th>
        <th>Email</th>
        <th></th>
    </tr> 
    
    @foreach(var item in Model)
    {
        <tr>
            <td onclick="location.href = '@(Url.Action("DetailsUsers", new { id = item.Id }))'">@item.UserName</td>
            <td onclick="location.href = '@(Url.Action("DetailsUsers", new { id = item.Id }))'">@item.Email</td>
            <td>
                @Ajax.ActionLink("Verwijderen", "DeleteUser", new { id = item.Id }, new AjaxOptions
                {
                    Confirm = "Are you sure user: " + item.UserName + " must be deleted?",
                    HttpMethod = "Post",
                    OnSuccess = "window.location.reload()"
                })
            </td>
        </tr>
    }
</table>
<br />
<p>
    @Html.ActionLink("Back", "Index")
</p>